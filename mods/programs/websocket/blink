{"modules":{"0.587746730856008":{"definition":"//\r\n// event generator\r\n//\r\n// Neil Gershenfeld \r\n// (c) Massachusetts Institute of Technology 2016\r\n// \r\n// This work may be reproduced, modified, distributed, performed, and \r\n// displayed for any purpose, but must acknowledge the mods\r\n// project. Copyright is retained and must be preserved. The work is \r\n// provided as is; no warranty is provided, and users accept all \r\n// liability.\r\n//\r\n// closure\r\n//\r\n(function(){\r\n//\r\n// module globals\r\n//\r\nvar mod = {}\r\n//\r\n// name\r\n//\r\nvar name = 'generate event'\r\n//\r\n// initialization\r\n//\r\nvar init = function() {\r\n   mod.event.value = 'on'\n   }\r\n//\r\n// inputs\r\n//\r\nvar inputs = {\r\n   trigger:{type:'event',\r\n      event:function(evt){\r\n         outputs.output.event()\r\n         }}}\r\n//\r\n// outputs\r\n//\r\nvar outputs = {\r\n   output:{type:'event',\r\n      event:function(){\r\n         mods.output(mod,'output',mod.event.value)}}}\r\n//\r\n// interface\r\n//\r\nvar interface = function(div){\r\n   mod.div = div\r\n   //\r\n   // generate button\r\n   //\r\n   var btn = document.createElement('button')\r\n      btn.style.padding = mods.ui.padding\r\n      btn.style.margin = 1\r\n      btn.appendChild(document.createTextNode('generate'))\r\n      btn.addEventListener('click',function(){\r\n         outputs.output.event()\r\n         })\r\n      div.appendChild(btn)\r\n   //\r\n   // event value\r\n   //\r\n   div.appendChild(document.createElement('br'))\r\n   div.appendChild(document.createTextNode('value: '))\r\n   var input = document.createElement('input')\r\n      input.type = 'text'\r\n      input.size = 6\r\n      input.addEventListener('change',function(){\r\n         })\r\n      div.appendChild(input)\r\n      mod.event = input\r\n   }\r\n//\r\n// local functions\r\n//\r\n;\r\n//\r\n// return values\r\n//\r\nreturn ({\r\n   mod:mod,\r\n   name:name,\r\n   init:init,\r\n   inputs:inputs,\r\n   outputs:outputs,\r\n   interface:interface\r\n   })\r\n}())\r\n","top":"58","left":"215","filename":"modules/event/generate.js","inputs":{},"outputs":{}},"0.2528754866707963":{"definition":"//\n// view object\n//\n// Neil Gershenfeld \n// (c) Massachusetts Institute of Technology 2016\n// modified by Francisco Sanchez Arroyo 08-Feb-2020\n// \n// This work may be reproduced, modified, distributed, performed, and \n// displayed for any purpose, but must acknowledge the mods\n// project. Copyright is retained and must be preserved. The work is \n// provided as is; no warranty is provided, and users accept all \n// liability.\n//\n// closure\n//\n(function() {\n    //\n    // module globals\n    //\n    var mod = {}\n    //\n    // name\n    //\n    var name = 'view object'\n    //\n    // initialization\n    //\n    var init = function() {}\n    //\n    // inputs\n    //\n    var inputs = {\n        input: {\n            type: '',\n            event: function(evt) {\n                mod.text.value = JSON.stringify(evt.detail)\n                outputs.output.event(evt.detail)\n            }\n        }\n    }\n    //\n    // outputs\n    //\n    var outputs = {\n        output: {\n            type: '',\n            event: function(obj) {\n                mods.output(mod, 'output', obj)\n            }\n        }\n    }\n    //\n    // interface\n    //\n    var interface = function(div) {\n        mod.div = div\n        var text = document.createElement('textarea')\n        text.setAttribute('rows', mods.ui.rows)\n        text.setAttribute('cols', mods.ui.cols)\n        div.appendChild(text)\n        //\n        // watch textarea for resize\n        //\n        new MutationObserver(update_module).observe(text, {\n            attributes: true,\n            attributeFilter: [\"style\"]\n        })\n        mod.text = text\n        div.appendChild(document.createElement('br'))\n        div.appendChild(document.createTextNode('format: '))\n        div.appendChild(document.createTextNode('JSON'))\n        var input = document.createElement('input')\n        input.type = 'radio'\n        input.name = mod.div.id + 'format'\n        input.id = mod.div.id + 'JSON'\n        input.checked = true\n        div.appendChild(input)\n        mod.JSON = input\n        div.appendChild(document.createElement('br'))\n        var btn = document.createElement('button')\n        btn.style.padding = mods.ui.padding\n        btn.style.margin = 1\n        var span = document.createElement('span')\n        var text = document.createTextNode('view')\n        span.appendChild(text)\n        btn.appendChild(span)\n        btn.addEventListener('click', function() {\n            view_window()\n        })\n        div.appendChild(btn)\n    }\n    //\n    // local functions\n    //\n    //\n    // update module\n    //\n    function update_module() {\n        mods.fit(mod.div)\n    }\n\n    function view_window() {\n        var win = window.open('')\n        var btn = document.createElement('button')\n        btn.appendChild(document.createTextNode('close'))\n        btn.style.padding = mods.ui.padding\n        btn.style.margin = 1\n        btn.addEventListener('click', function() {\n            win.close()\n        })\n        win.document.body.appendChild(btn)\n        var text = document.createElement('textarea')\n        text.style.width = '100%'\n        text.style.height = '100%'\n        text.value = mod.text.value\n        win.document.body.appendChild(text)\n    }\n    //\n    // return values\n    //\n    return ({\n        mod: mod,\n        name: name,\n        init: init,\n        inputs: inputs,\n        outputs: outputs,\n        interface: interface\n    })\n}())\n","top":"531","left":"471","filename":"modules/object/view.js","inputs":{},"outputs":{}},"0.41732011055941953":{"definition":"//\r\n// event generator\r\n//\r\n// Neil Gershenfeld \r\n// (c) Massachusetts Institute of Technology 2016\r\n// \r\n// This work may be reproduced, modified, distributed, performed, and \r\n// displayed for any purpose, but must acknowledge the mods\r\n// project. Copyright is retained and must be preserved. The work is \r\n// provided as is; no warranty is provided, and users accept all \r\n// liability.\r\n//\r\n// closure\r\n//\r\n(function(){\r\n//\r\n// module globals\r\n//\r\nvar mod = {}\r\n//\r\n// name\r\n//\r\nvar name = 'generate event'\r\n//\r\n// initialization\r\n//\r\nvar init = function() {\r\n   mod.event.value = 'off'\n   }\r\n//\r\n// inputs\r\n//\r\nvar inputs = {\r\n   trigger:{type:'event',\r\n      event:function(evt){\r\n         outputs.output.event()\r\n         }}}\r\n//\r\n// outputs\r\n//\r\nvar outputs = {\r\n   output:{type:'event',\r\n      event:function(){\r\n         mods.output(mod,'output',mod.event.value)}}}\r\n//\r\n// interface\r\n//\r\nvar interface = function(div){\r\n   mod.div = div\r\n   //\r\n   // generate button\r\n   //\r\n   var btn = document.createElement('button')\r\n      btn.style.padding = mods.ui.padding\r\n      btn.style.margin = 1\r\n      btn.appendChild(document.createTextNode('generate'))\r\n      btn.addEventListener('click',function(){\r\n         outputs.output.event()\r\n         })\r\n      div.appendChild(btn)\r\n   //\r\n   // event value\r\n   //\r\n   div.appendChild(document.createElement('br'))\r\n   div.appendChild(document.createTextNode('value: '))\r\n   var input = document.createElement('input')\r\n      input.type = 'text'\r\n      input.size = 6\r\n      input.addEventListener('change',function(){\r\n         })\r\n      div.appendChild(input)\r\n      mod.event = input\r\n   }\r\n//\r\n// local functions\r\n//\r\n;\r\n//\r\n// return values\r\n//\r\nreturn ({\r\n   mod:mod,\r\n   name:name,\r\n   init:init,\r\n   inputs:inputs,\r\n   outputs:outputs,\r\n   interface:interface\r\n   })\r\n}())\r\n","top":"54","left":"713","filename":"modules/event/generate.js","inputs":{},"outputs":{}},"0.22659017756936173":{"definition":"//\n// WebSocket module\n//\n// Neil Gershenfeld \n// (c) Massachusetts Institute of Technology 2016\n// \n// This work may be reproduced, modified, distributed, performed, and \n// displayed for any purpose, but must acknowledge the mods\n// project. Copyright is retained and must be preserved. The work is \n// provided as is; no warranty is provided, and users accept all \n// liability.\n//\n// closure\n//\n(function() {\n    //\n    // module globals\n    //\n    var mod = {}\n    //\n    // name\n    //\n    var name = 'WebSocket'\n    //\n    // initialization\n    //\n    var init = function() {\n        mod.address.value = '127.0.0.1'\n        mod.port.value = 12345\n        mod.socket = 0\n        socket_open()\n        }\n    //\n    // inputs\n    //\n    var inputs = {\n        send: {\n            type: 'object',\n            event: function(evt) {\n                socket_send(evt.detail)\n                }\n            }\n        }\n    //\n    // outputs\n    //\n    var outputs = {\n        receive: {\n            type: 'object',\n            event: function(data) {\n                mods.output(mod, 'receive', data)\n                }\n            }\n        }\n    //\n    // interface\n    //\n    var interface = function(div) {\n        mod.div = div\n        div.appendChild(document.createTextNode('server:'))\n        div.appendChild(document.createElement('br'))\n        //\n        // address\n        //\n        div.appendChild(document.createTextNode('address: '))\n        input = document.createElement('input')\n        input.type = 'text'\n        input.size = 10\n        div.appendChild(input)\n        mod.address = input\n        div.appendChild(document.createElement('br'))\n        //\n        // port\n        //\n        div.appendChild(document.createTextNode('port: '))\n        input = document.createElement('input')\n        input.type = 'text'\n        input.size = 10\n        div.appendChild(input)\n        mod.port = input\n        div.appendChild(document.createElement('br'))\n        //\n        // ws/wss\n        //\n        div.appendChild(document.createTextNode('ws'))\n        var input = document.createElement('input')\n        input.type = 'radio'\n        input.name = mod.div.id + 'type'\n        input.id = mod.div.id + 'ws'\n        input.checked = true\n        div.appendChild(input)\n        mod.ws = input\n        div.appendChild(document.createTextNode(' wss'))\n        var input = document.createElement('input')\n        input.type = 'radio'\n        input.name = mod.div.id + 'type'\n        input.id = mod.div.id + 'wss'\n        div.appendChild(input)\n        mod.wss = input\n        div.appendChild(document.createElement('br'))\n        //\n        // status\n        //\n        div.appendChild(document.createTextNode('status: '))\n        input = document.createElement('input')\n        input.type = 'text'\n        input.size = 10\n        div.appendChild(input)\n        mod.status = input\n        div.appendChild(document.createElement('br'))\n        //\n        // open/close\n        //\n        var btn = document.createElement('button')\n        btn.style.margin = 1\n        btn.appendChild(document.createTextNode('open'))\n        btn.addEventListener('click', function() {\n            socket_open()\n            })\n        div.appendChild(btn)\n        var btn = document.createElement('button')\n        btn.style.margin = 1\n        btn.appendChild(document.createTextNode('close'))\n        btn.addEventListener('click', function() {\n            socket_close()\n            })\n        div.appendChild(btn)\n        }\n    //\n    // local functions\n    //\n    function socket_open() {\n        if (mod.ws.checked)\n           var url = \"ws://\" + mod.address.value + ':' + mod.port.value\n        else\n           var url = \"wss://\" + mod.address.value + ':' + mod.port.value\n        mod.socket = new WebSocket(url)\n        mod.socket.onopen = function(event) {\n            mod.status.value = \"opened\"\n            }\n        mod.socket.onerror = function(event) {\n            mod.status.value = \"can not open\"\n            }\n        mod.socket.onmessage = function(event) {\n            mod.status.value = \"receive\"\n            outputs.receive.event(event.data)\n            }\n        }\n    function socket_close() {\n        mod.socket.close()\n        mod.status.value = \"closed\"\n        mod.socket = 0\n        }\n    function socket_send(msg) {\n        if (mod.socket != 0) {\n            mod.status.value = \"send\"\n            mod.socket.send(msg)\n            }\n        else {\n            mod.status.value = \"can't send, not open\"\n            }\n        }\n    //\n    // return values\n    //\n    return ({\n        mod: mod,\n        name: name,\n        init: init,\n        inputs: inputs,\n        outputs: outputs,\n        interface: interface\n        })\n    }())\n","top":"258","left":"484","filename":"modules/socket/websocket.js","inputs":{},"outputs":{}}},"links":["{\"source\":\"{\\\"id\\\":\\\"0.587746730856008\\\",\\\"type\\\":\\\"outputs\\\",\\\"name\\\":\\\"output\\\"}\",\"dest\":\"{\\\"id\\\":\\\"0.22659017756936173\\\",\\\"type\\\":\\\"inputs\\\",\\\"name\\\":\\\"send\\\"}\"}","{\"source\":\"{\\\"id\\\":\\\"0.41732011055941953\\\",\\\"type\\\":\\\"outputs\\\",\\\"name\\\":\\\"output\\\"}\",\"dest\":\"{\\\"id\\\":\\\"0.22659017756936173\\\",\\\"type\\\":\\\"inputs\\\",\\\"name\\\":\\\"send\\\"}\"}","{\"source\":\"{\\\"id\\\":\\\"0.22659017756936173\\\",\\\"type\\\":\\\"outputs\\\",\\\"name\\\":\\\"receive\\\"}\",\"dest\":\"{\\\"id\\\":\\\"0.2528754866707963\\\",\\\"type\\\":\\\"inputs\\\",\\\"name\\\":\\\"input\\\"}\"}"]}